{% extends 'baseaaf.html' %}

{% block content %}
<h2 class="text-center mb-4">Update Profile</h2>
<form method="post">
    {% csrf_token %}
    <div class="mb-3">
        <label for="name" class="form-label">Name</label>
        <input type="text" class="form-control" id="name" name="name" value="{{ user.name }}" required>
    </div>
    <div class="mb-3">
        <label for="password" class="form-label">New Password</label>
        <input type="password" class="form-control" id="password" name="password">
    </div>
    <div class="mb-3">
        <label for="sex" class="form-label">Sex</label>
        <select class="form-select" id="sex" name="sex" required>
            <option value="M" {% if user.sex == "M" %}selected{% endif %}>Male</option>
            <option value="F" {% if user.sex == "F" %}selected{% endif %}>Female</option>
        </select>
    </div>
    <div class="mb-3">
        <label for="phone" class="form-label">Phone Number</label>
        <input type="text" class="form-control" id="phone" name="phone" value="{{ user.phone_num }}" required>
    </div>
    <div class="mb-3">
        <label for="dob" class="form-label">Birth Date</label>
        <input type="date" class="form-control" id="dob" name="dob" value="{{ user.dob }}" required>
    </div>
    <div class="mb-3">
        <label for="address" class="form-label">Address</label>
        <textarea class="form-control" id="address" name="address" rows="3" required>{{ user.address }}</textarea>
    </div>
    {% if role == "Worker" %}
        <div class="mb-3">
            <label for="bank_name" class="form-label">Bank Name</label>
            <input type="text" class="form-control" id="bank_name" name="bank_name" value="{{ profile.bank_name }}" required>
        </div>
        <div class="mb-3">
            <label for="acc_number" class="form-label">Account Number</label>
            <input type="text" class="form-control" id="acc_number" name="acc_number" value="{{ profile.acc_number }}" required>
        </div>
        <div class="mb-3">
            <label for="npwp" class="form-label">NPWP</label>
            <input type="text" class="form-control" id="npwp" name="npwp" value="{{ profile.npwp }}" required>
        </div>
        <div class="mb-3">
            <label for="pic_url" class="form-label">Image URL</label>
            <input type="url" class="form-control" id="pic_url" name="pic_url" value="{{ profile.pic_url }}">
        </div>
    {% endif %}
    <button type="submit" class="btn btn-primary w-100">Save Changes</button>
</form>
{% endblock %}
