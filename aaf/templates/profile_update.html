{% extends 'baseaaf.html' %}

{% block content %}
<div class="container mt-5">
    <h2 class="text-center mb-4">Update Profile</h2>
    <form method="post">
        {% csrf_token %}
        <div class="mb-3">
            <label for="name" class="form-label">Name</label>
            <input type="text" class="form-control" id="name" name="name" value="{{ user.name }}" required>
        </div>
        <div class="mb-3">
            <label for="phone" class="form-label">Phone Number</label>
            <input type="text" class="form-control" id="phone" name="phone" value="{{ user.phone_num }}" required>
        </div>
        <div class="mb-3">
            <label for="sex" class="form-label">Sex</label>
            <input type="text" class="form-control" id="sex" name="sex" value="{{ user.sex }}" required>
        </div>
        <div class="mb-3">
            <label for="dob" class="form-label">Date of Birth</label>
            <input type="date" class="form-control" id="dob" name="dob" value="{{ user.dob }}" required>
        </div>
        <div class="mb-3">
            <label for="address" class="form-label">Address</label>
            <input type="text" class="form-control" id="address" name="address" value="{{ user.address }}" required>
        </div>
        <div class="mb-3">
            <label for="password" class="form-label">Password (leave blank to keep current password)</label>
            <input type="password" class="form-control" id="password" name="password">
        </div>
        {% if role == 'Worker' %}
            <div class="mb-3">
                <label for="bank_name" class="form-label">Bank Name</label>
                <input type="text" class="form-control" id="bank_name" name="bank_name" value="{{ profile.bank_name }}" required>
            </div>
            <div class="mb-3">
                <label for="acc_number" class="form-label">Account Number</label>
                <input type="text" class="form-control" id="acc_number" name="acc_number" value="{{ profile.acc_number }}" required>
            </div>
            <div class="mb-3">
                <label for="npwp" class="form-label">NPWP</label>
                <input type="text" class="form-control" id="npwp" name="npwp" value="{{ profile.npwp }}" required>
            </div>
            <div class="mb-3">
                <label for="pic_url" class="form-label">Profile Picture URL</label>
                <input type="text" class="form-control" id="pic_url" name="pic_url" value="{{ profile.pic_url }}" required>
            </div>
        {% endif %}
        <button type="submit" class="btn btn-primary w-100">Update Profile</button>
    </form>
</div>
{% endblock %}